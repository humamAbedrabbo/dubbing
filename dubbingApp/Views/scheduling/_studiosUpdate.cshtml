@model dubbingModel.studio

<div class="container-fluid">
    <div class="panel panel-default">
        <div class="panel-heading">
            <div class="row">
                <div class="col-sm-10">
                    <label class="badge alert-info"><small>Studio @Model.studioNo </small></label>&nbsp;&nbsp;<label><small> Update Studio Allocation</small></label>
                </div>
                <div class="col-sm-2">
                    <button class="btn btn-default btn-xs pull-right" onclick="onCloseClick()" title="Close">
                        <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                    </button>
                </div>
            </div>
        </div>
        <div class="panel-body">
            <div class="row">
                <div class="col-sm-12">
                    <label class="badge alert-info"><small>Assigned Works</small></label>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-12">
                    <ul>
                        @foreach (dubbingModel.studioDtl work in ViewBag.studioWorksList)
                        {
                            <li>
                                <small>@work.agreementWork.workName</small>
                                <button class="btn btn-default btn-xs" onclick="onWorkAllocationRemoveClick(@work.studioDtlsIntno, @ViewBag.schedule)" title="Remove">
                                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                                </button>
                            </li>
                        }
                    </ul>
                </div>
            </div>
            
            <div class="row">
                <div class="col-sm-12">
                    <label class="badge alert-info"><small>Studio Team</small></label>
                </div>
            </div>

            @using (Ajax.BeginForm("studiosUpdate", "scheduling",
                                        new AjaxOptions()
                                        {
                                            HttpMethod = "POST",
                                            OnSuccess = "onStudiosUpdateSuccess",
                                            OnFailure = "onStudiosUpdateFailure"
                                        }))
            {
                @Html.AntiForgeryToken()
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                @Html.HiddenFor(model => model.studioIntno)
                @Html.HiddenFor(model => model.dubbTrnHdrIntno)

                <div class="form-group-sm">
                    <small>@Html.LabelFor(model => model.supervisor, "Supervisor", htmlAttributes: new { @class = "control-label col-sm-4" })</small>
                    <div class="col-sm-8">
                        <small>
                            @Html.DropDownListFor(model => model.supervisor, ViewBag.teamList as SelectList, string.Empty, htmlAttributes: new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.supervisor, "", new { @class = "text-danger" })
                        </small>
                    </div>
                </div>

                <div class="form-group-sm">
                    <small>@Html.LabelFor(model => model.sound, "Sound Technician", htmlAttributes: new { @class = "control-label col-sm-4" })</small>
                    <div class="col-sm-8">
                        <small>
                            @Html.DropDownListFor(model => model.sound, ViewBag.teamList as SelectList, string.Empty, htmlAttributes: new { @class = "form-control" })
                            @Html.ValidationMessageFor(model => model.sound, "", new { @class = "text-danger" })
                        </small>
                    </div>
                </div>

                <div class="form-group">
                    <div class="col-sm-offset-4 col-sm-8">
                        <button type="submit" class="btn btn-default btn-sm">Submit</button>
                        <small><label class="alert-success" id="result"></label></small>
                    </div>
                </div>
            }
        </div>
    </div>
</div>